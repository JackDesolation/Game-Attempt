<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Element Lab</title>
<style>
body {
    background:#060a13;
    color:#e6e6e6;
    font-family:Arial, sans-serif;
    padding:20px;
}
h1,h2 { color:#6cf; }
.panel {
    background:#0f1626;
    border:1px solid #223;
    border-radius:8px;
    padding:15px;
    margin-bottom:15px;
}
button {
    background:#1e90ff;
    border:none;
    padding:8px 12px;
    margin:4px 0;
    color:white;
    border-radius:5px;
    cursor:pointer;
}
button:disabled { background:#444; }
.stat { color:#9f9; }
.log {
    background:#05080f;
    padding:10px;
    max-height:200px;
    overflow-y:auto;
    font-size:0.9em;
}
.compound { color:#ff9; }
.fictional { color:#fc9; }
</style>
</head>
<body>

<h1>‚öóÔ∏è Element Lab</h1>

<div class="panel">
Funds: $<span class="stat" id="funds">0</span><br>
Funding/sec: $<span class="stat" id="fps">0</span>
</div>

<div class="panel">
<h2>üß™ Owned Elements</h2>
<div id="elements"></div>
</div>

<div class="panel">
<h2>‚öóÔ∏è Lab Bench</h2>
<button onclick="attemptReaction()">Attempt Chemical Reaction</button>
</div>

<div class="panel">
<h2>üìÑ Compounds Discovered</h2>
<div id="compounds"></div>
</div>

<div class="panel">
<h2>üõí Element Market</h2>
<button onclick="buyElement('Oxygen', 100)">Buy Oxygen ($100)</button><br>
<button onclick="buyElement('Carbon', 250)">Buy Carbon ($250)</button><br>
<button onclick="buyElement('Nitrogen', 500)">Buy Nitrogen ($500)</button><br>
<button onclick="buyElement('Sodium', 1000)">Buy Sodium ($1000)</button><br>
<button onclick="buyElement('Chlorine', 1500)">Buy Chlorine ($1500)</button>
</div>

<div class="panel">
<h2>‚öõÔ∏è Particle Collider</h2>
<button onclick="buyCollider()">Build Collider ($10,000)</button><br>
<button onclick="colliderExperiment()">Collider Experiment</button>
</div>

<div class="panel">
<h2>üìú Research Log</h2>
<div class="log" id="log"></div>
</div>

<script>
/* =====================
   CORE STATE
===================== */
let funds = 0;
let fundsPerSec = 0;

let ownedElements = ["Hydrogen"];

let compounds = [];
let colliderBuilt = false;
let fictionalElements = [];

/* =====================
   CHEMISTRY DATABASE
===================== */
const reactions = [
    { inputs:["Hydrogen","Oxygen"], output:"Water", income:2 },
    { inputs:["Carbon","Oxygen"], output:"Carbon Dioxide", income:3 },
    { inputs:["Nitrogen","Hydrogen"], output:"Ammonia", income:4 },
    { inputs:["Sodium","Chlorine"], output:"Sodium Chloride", income:5 },
    { inputs:["Carbon","Hydrogen"], output:"Methane", income:3 },
    { inputs:["Carbon","Nitrogen"], output:"Cyanogen", income:6 }
];

/* =====================
   UI HELPERS
===================== */
function log(msg) {
    const l = document.getElementById("log");
    l.innerHTML += msg + "<br>";
    l.scrollTop = l.scrollHeight;
}

function updateUI() {
    document.getElementById("funds").textContent = funds.toFixed(1);
    document.getElementById("fps").textContent = fundsPerSec.toFixed(1);

    document.getElementById("elements").innerHTML =
        ownedElements.map(e=>`<div>${e}</div>`).join("");

    document.getElementById("compounds").innerHTML =
        compounds.map(c=>`<div class="compound">${c.name} (+$${c.income}/s)</div>`).join("");
}

/* =====================
   ECONOMY
===================== */
function recalcIncome() {
    fundsPerSec = 0;
    compounds.forEach(c=>fundsPerSec += c.income);
}

setInterval(()=>{
    funds += fundsPerSec / 10;
    updateUI();
},100);

/* =====================
   MARKET
===================== */
function buyElement(name, cost) {
    if (funds >= cost && !ownedElements.includes(name)) {
        funds -= cost;
        ownedElements.push(name);
        log(`üß¨ Acquired element: ${name}`);
        updateUI();
    }
}

/* =====================
   REACTIONS
===================== */
function attemptReaction() {
    for (const r of reactions) {
        if (r.inputs.every(i=>ownedElements.includes(i)) &&
            !compounds.find(c=>c.name===r.output)) {

            compounds.push({ name:r.output, income:r.income });
            log(`‚öóÔ∏è Discovered compound: ${r.output}`);
            recalcIncome();
            updateUI();
            return;
        }
    }
    log("‚ùå No valid reactions discovered.");
}

/* =====================
   COLLIDER
===================== */
function buyCollider() {
    if (funds >= 10000 && !colliderBuilt) {
        funds -= 10000;
        colliderBuilt = true;
        log("‚öõÔ∏è Particle Collider constructed.");
    }
}

function colliderExperiment() {
    if (!colliderBuilt) {
        log("‚ùó Collider not built.");
        return;
    }

    const name =
        "X" +
        String.fromCharCode(65 + Math.floor(Math.random()*26)) +
        "-" + Math.floor(Math.random()*9999);

    const stability = Math.floor(Math.random()*100);
    const energy = Math.floor(Math.random()*200);

    const income = Math.max(1, Math.floor((stability + energy) / 40));

    fictionalElements.push(name);
    compounds.push({ name, income });

    log(`<span class="fictional">
        ‚öõÔ∏è New Element Created: ${name}<br>
        Stability: ${stability} | Energy Density: ${energy}
    </span>`);

    recalcIncome();
}

/* =====================
   INIT
===================== */
recalcIncome();
updateUI();
log("üß™ Research initialized. Starting element: Hydrogen.");
</script>

</body>
</html>

